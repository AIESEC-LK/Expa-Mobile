mutation UnrejectApplicationMutation($id: ID!) {
  unrejectApplication(id: $id) {
    id
    permissions {
      can_be_rejected
      can_be_reopened
      can_be_matched
      can_be_approved_ep
      can_be_approved_tn
      can_be_realized
      can_be_approval_broken
      can_be_realize_broken
      can_be_unrejected
      __typename
    }
    status
    __typename
  }
}

{
  "id": "6604"
}

{
  "data": {
    "unrejectApplication": {
      "id": "6604",
      "permissions": {
        "can_be_rejected": true,
        "can_be_reopened": false,
        "can_be_matched": true,
        "can_be_approved_ep": false,
        "can_be_approved_tn": false,
        "can_be_realized": false,
        "can_be_approval_broken": false,
        "can_be_realize_broken": false,
        "can_be_unrejected": false,
        "__typename": "OpportunityApplicationPermissionType"
      },
      "status": "open",
      "__typename": "OpportunityApplication"
    }
  }
}


---------------------------------------------------------------------------------------------------------------------------------------------


query OpportunityApplicationModalQuery($id: ID!) {
  getApplication(id: $id) {
    id
    created_at
    an_signed_at
    experience_end_date
    favourite
    permissions {
      can_be_favourited
      can_update
      __typename
    }
    follow_up {
      id
      __typename
    }
    followed_up_date
    followed_up_by {
      id
      full_name
      __typename
    }
    opportunity {
      id
      experience_type
      host_lc {
        frozen_programmes {
          ...FrozenProgrammesFields
          __typename
        }
        outgoing_frozen_programmes {
          ...FrozenProgrammesFields
          __typename
        }
        parent {
          frozen_programmes {
            ...FrozenProgrammesFields
            __typename
          }
          outgoing_frozen_programmes {
            ...FrozenProgrammesFields
            __typename
          }
          __typename
        }
        __typename
      }
      specifics_info {
        ask_gip_question
        __typename
      }
      __typename
    }
    person {
      id
      full_name
      email
      profile_photo
      updated_at
      created_at
      home_mc {
        name
        __typename
      }
      permissions {
        can_update
        __typename
      }
      __typename
    }
    comments(first: 20) {
      edges {
        cursor
        node {
          id
          comment
          updated_at
          created_at
          status
          person {
            full_name
            profile_photo
            __typename
          }
          __typename
        }
        __typename
      }
      pageInfo {
        hasNextPage
        __typename
      }
      __typename
    }
    tag_lists {
      id
      name
      __typename
    }
    ...Sidebar
    ...Timeline
    ...Profile
    ...Questionnaire
    __typename
  }
}

fragment FrozenProgrammesFields on Programme {
  id
  short_name
  short_name_display
  __typename
}

fragment Sidebar on OpportunityApplication {
  id
  status
  meta {
    remote_start_date
    remote_end_date
    remote_realized_at
    remote_realized_by {
      full_name
      __typename
    }
    __typename
  }
  slot {
    id
    start_date
    end_date
    title
    __typename
  }
  rejection_reason {
    id
    name
    type_id
    __typename
  }
  acceptance_note_pdf_url
  nps_grade
  nps_response_completed_at
  experience_end_date
  created_at
  managers {
    id
    full_name
    email
    profile_photo
    aiesec_email
    __typename
  }
  cv {
    id
    url
    __typename
  }
  person {
    id
    full_name
    profile_photo
    cv_url
    managers {
      id
      full_name
      email
      profile_photo
      aiesec_email
      __typename
    }
    __typename
  }
  opportunity {
    id
    application_processing_time
    remote_opportunity
    managers {
      id
      full_name
      email
      profile_photo
      aiesec_email
      __typename
    }
    __typename
  }
  permissions {
    can_update
    can_be_rejected
    can_be_matched
    can_be_approved_ep
    can_be_approved_tn
    can_be_realized
    can_be_approval_broken
    can_be_realize_broken
    has_paid_for_match
    can_mark_match_paid
    can_break_remote_realization
    can_be_unrejected
    can_extend_experience
    can_be_remote_realized
    can_extend_remote_experience
    can_edit_managers
    __typename
  }
  ...ApplicationDetails
  ...Status
  __typename
}

fragment ApplicationDetails on OpportunityApplication {
  id
  person {
    id
    full_name
    email
    profile_photo
    address_detail {
      city
      country
      __typename
    }
    __typename
  }
  opportunity {
    id
    title
    profile_photo
    home_lc {
      name
      __typename
    }
    __typename
  }
  __typename
}

fragment Status on OpportunityApplication {
  id
  status
  experience_end_date
  permissions {
    can_update
    can_be_rejected
    can_be_reopened
    can_be_matched
    can_be_approved_ep
    can_be_approved_tn
    can_be_realized
    can_be_approval_broken
    can_be_realize_broken
    has_paid_for_match
    can_be_unrejected
    can_mark_match_paid
    can_break_remote_realization
    can_extend_experience
    __typename
  }
  opportunity {
    programme {
      short_name_display
      __typename
    }
    __typename
  }
  __typename
}

fragment Timeline on OpportunityApplication {
  meta {
    date_ep_approved
    date_matched
    date_tn_approved
    date_approved
    date_completed
    date_rejected
    date_realisation_broke
    remote_realized_at
    date_remote_realization_broken_at
    __typename
  }
  experience_end_date
  experience_start_date
  created_at
  onward_arrival_airport
  onward_time
  return_departure_airport
  return_time
  __typename
}

fragment Profile on OpportunityApplication {
  id
  meta {
    gip_answer
    __typename
  }
  opportunity {
    id
    specifics_info {
      ask_gip_question
      __typename
    }
    managers {
      id
      full_name
      email
      aiesec_email
      profile_photo
      __typename
    }
    __typename
  }
  person {
    id
    full_name
    profile_photo
    location
    updated_at
    created_at
    cv_url
    home_mc {
      name
      __typename
    }
    campaign {
      id
      campaign_tag
      __typename
    }
    academic_experiences {
      organisation_name
      description
      title
      start_date
      end_date
      backgrounds {
        type_name
        __typename
      }
      __typename
    }
    professional_experiences {
      exp_type
      organisation_name
      description
      title
      start_date
      end_date
      skills {
        type_name
        __typename
      }
      __typename
    }
    person_profile {
      id
      nationalities {
        id
        name
        __typename
      }
      backgrounds {
        id
        type_name
        name
        __typename
      }
      skills {
        id
        option
        constant_id
        constant_name
        __typename
      }
      languages {
        id
        constant_name
        __typename
      }
      __typename
    }
    permissions {
      can_update
      __typename
    }
    managers {
      id
      full_name
      email
      aiesec_email
      profile_photo
      __typename
    }
    __typename
  }
  __typename
}

fragment Questionnaire on OpportunityApplication {
  id
  created_at
  opportunity {
    opportunity_questions {
      edges {
        node {
          id
          is_mandatory
          position
          question_text
          question_type
          sub_questions {
            nodes {
              id
              question_text
              question_type
              __typename
            }
            __typename
          }
          __typename
        }
        __typename
      }
      __typename
    }
    __typename
  }
  questionnaire_answers
  questionnaire_attachment {
    url
    filename
    __typename
  }
  __typename
}


{
  "id": "6605",
  "count": 5
}

{
  "data": {
    "getApplication": {
      "id": "6605",
      "created_at": "2024-11-29T20:16:20Z",
      "an_signed_at": null,
      "experience_end_date": null,
      "favourite": null,
      "permissions": {
        "can_be_favourited": true,
        "can_update": true,
        "__typename": "OpportunityApplicationPermissionType",
        "can_be_rejected": false,
        "can_be_matched": false,
        "can_be_approved_ep": false,
        "can_be_approved_tn": false,
        "can_be_realized": false,
        "can_be_approval_broken": false,
        "can_be_realize_broken": false,
        "has_paid_for_match": false,
        "can_mark_match_paid": false,
        "can_break_remote_realization": false,
        "can_be_unrejected": false,
        "can_extend_experience": false,
        "can_be_remote_realized": false,
        "can_extend_remote_experience": false,
        "can_edit_managers": false,
        "can_be_reopened": false
      },
      "follow_up": null,
      "followed_up_date": null,
      "followed_up_by": null,
      "opportunity": {
        "id": "16300",
        "experience_type": "physical",
        "host_lc": {
          "frozen_programmes": [],
          "outgoing_frozen_programmes": [],
          "parent": {
            "frozen_programmes": [],
            "outgoing_frozen_programmes": [],
            "__typename": "Office"
          },
          "__typename": "Office"
        },
        "specifics_info": {
          "ask_gip_question": null,
          "__typename": "SpecificInfoType"
        },
        "__typename": "Opportunity",
        "application_processing_time": 0,
        "remote_opportunity": "false",
        "managers": [
          {
            "id": "13314",
            "full_name": "Devteam Sri Lanka",
            "email": "p_8b9911279f1c08a23b3ea95ebd757e11ba0018de@inbound.aiesec.org",
            "profile_photo": "https://cdn-expa.aiesec.org/gis-img/missing_profile_d.svg",
            "aiesec_email": null,
            "__typename": "Person"
          },
          {
            "id": "13318",
            "full_name": "Lahiru Jayathilake",
            "email": "p_6d8ee5de0602e99aadd127ac8c3ce16db575094a@inbound.aiesec.org",
            "profile_photo": "https://cdn-expa.aiesec.org/gis-img/missing_profile_l.svg",
            "aiesec_email": null,
            "__typename": "Person"
          }
        ],
        "title": "Random project somewhere",
        "profile_photo": "https://cdn-expa.aiesec.org/gis-img/missing_profile_r.svg",
        "home_lc": {
          "name": "pannipitiya",
          "__typename": "Office"
        },
        "programme": {
          "short_name_display": "GV",
          "__typename": "Programme"
        },
        "opportunity_questions": {
          "edges": [],
          "__typename": "OpportunityQuestionConnection"
        }
      },
      "person": {
        "id": "13337",
        "full_name": "RCA Avinash",
        "email": "p_a4462018ec1dfb2102babc6ba26b553562dc5c0a@inbound.aiesec.org",
        "profile_photo": "https://cdn-expa.aiesec.org/gis-img/missing_profile_r.svg",
        "updated_at": "2025-11-27T14:25:13Z",
        "created_at": "2024-11-29T20:13:58Z",
        "home_mc": {
          "name": "Sri Lanka",
          "__typename": "Office"
        },
        "permissions": {
          "can_update": false,
          "__typename": "PersonPermissionType"
        },
        "__typename": "Person",
        "cv_url": "https://api-staging.aiesec.org/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsiZGF0YSI6NTQ5MDMsInB1ciI6ImJsb2JfaWQifX0=--60db087589763a0c8f72e025fa76b9d63b583c38/RCA_Avinash.pdf",
        "managers": [
          {
            "id": "13314",
            "full_name": "Devteam Sri Lanka",
            "email": "p_8b9911279f1c08a23b3ea95ebd757e11ba0018de@inbound.aiesec.org",
            "profile_photo": "https://cdn-expa.aiesec.org/gis-img/missing_profile_d.svg",
            "aiesec_email": null,
            "__typename": "Person"
          }
        ],
        "address_detail": null,
        "location": "",
        "campaign": null,
        "academic_experiences": [
          {
            "organisation_name": "we",
            "description": null,
            "title": null,
            "start_date": "2020-11-18T00:00:00Z",
            "end_date": "2024-11-07T00:00:00Z",
            "backgrounds": [
              {
                "type_name": "background",
                "__typename": "Constant"
              },
              {
                "type_name": "background",
                "__typename": "Constant"
              }
            ],
            "__typename": "PreviousExperience"
          }
        ],
        "professional_experiences": [],
        "person_profile": {
          "id": "11422",
          "nationalities": [
            {
              "id": "10535",
              "name": "Sri Lanka",
              "__typename": "Constant"
            }
          ],
          "backgrounds": [
            {
              "id": "10224",
              "type_name": "background",
              "name": "Accounting",
              "__typename": "Constant"
            },
            {
              "id": "11275",
              "type_name": "background",
              "name": "Anthropology",
              "__typename": "Constant"
            }
          ],
          "skills": [
            {
              "id": "378053",
              "option": null,
              "constant_id": 11217,
              "constant_name": "Ada",
              "__typename": "ConstantMap"
            }
          ],
          "languages": [
            {
              "id": "378052",
              "constant_name": "English",
              "__typename": "ConstantMap"
            }
          ],
          "__typename": "PersonProfile"
        }
      },
      "comments": {
        "edges": [],
        "pageInfo": {
          "hasNextPage": false,
          "__typename": "PageInfo"
        },
        "__typename": "CommentConnection"
      },
      "tag_lists": [],
      "status": "rejected",
      "meta": {
        "remote_start_date": null,
        "remote_end_date": null,
        "remote_realized_at": null,
        "remote_realized_by": null,
        "__typename": "ApplicationMetaType",
        "date_ep_approved": null,
        "date_matched": "2025-11-27T14:25:01Z",
        "date_tn_approved": null,
        "date_approved": null,
        "date_completed": null,
        "date_rejected": "2025-11-27T14:25:13Z",
        "date_realisation_broke": null,
        "date_remote_realization_broken_at": null,
        "gip_answer": "da best"
      },
      "slot": {
        "id": "908",
        "start_date": "2024-12-15",
        "end_date": "2025-01-26",
        "title": "Test2",
        "__typename": "Slot"
      },
      "rejection_reason": null,
      "acceptance_note_pdf_url": null,
      "nps_grade": null,
      "nps_response_completed_at": null,
      "managers": [],
      "cv": null,
      "__typename": "OpportunityApplication",
      "experience_start_date": null,
      "onward_arrival_airport": null,
      "onward_time": null,
      "return_departure_airport": null,
      "return_time": null,
      "questionnaire_answers": null,
      "questionnaire_attachment": null
    }
  }
}



---------------------------------------------------------------------------------------------------------------------------------------------